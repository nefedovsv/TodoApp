(window["webpackJsonpmy-todo-app"]=window["webpackJsonpmy-todo-app"]||[]).push([[0],{149:function(t,e,n){t.exports={root:"InputUserData_root__1kfRv"}},163:function(t,e,n){t.exports=n(313)},311:function(t,e,n){},313:function(t,e,n){"use strict";n.r(e);var r,a,o,c,i,u,l,s,p,f,b=n(0),d=n.n(b),h=n(4),m=n(13),O=n(61),y=n(42),j=n(318),v=n(97),g=Object(O.e)(function(t){var e=t.history;return d.a.createElement(j.a,{status:"404",title:"404",subTitle:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0440\u043e\u0443\u0442\u0438\u043d\u0433\u0435!!!",extra:d.a.createElement(v.a,{type:"primary",onClick:function(){e.push("/")}},"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e")})}),k=n(148),E=Object(m.b)("authentication")(Object(m.c)(function(t){var e=t.component,n=t.authentication,r=Object(k.a)(t,["component","authentication"]);return d.a.createElement(O.b,Object.assign({},r,{render:function(t){return n.isAuthenticated?d.a.createElement(e,t):d.a.createElement(O.a,{to:{pathname:"/",state:{from:t.location}}})}}))})),w=n(20),T=n(21),x=n(30),C=n(29),I=n(31),D=n(43),_=n(59),A=n(24),S=(n(79),n(8)),P=n(315),M=n(317),N=n(10),z=n(126),U=n(149),B=n.n(U),J=Object(m.b)("authentication")(r=Object(m.c)((a=function(t){function e(){var t,n;Object(w.a)(this,e);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return n=Object(x.a)(this,(t=Object(C.a)(e)).call.apply(t,[this].concat(a))),Object(D.a)(n,"value",o,Object(_.a)(n)),n.onChange=function(t){n.value=t.currentTarget.value},n.onSubmit=function(t){t.preventDefault(),(0,n.props.authentication.logIn)(n.value),n.value=""},n}return Object(I.a)(e,t),Object(T.a)(e,[{key:"render",value:function(){return b.createElement("div",{className:B.a.root},b.createElement(P.a,{layout:"inline",onSubmit:this.onSubmit},b.createElement(P.a.Item,null,b.createElement(M.a,{value:this.value,onChange:this.onChange,placeholder:"Enter your nickname",prefix:b.createElement(N.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),suffix:b.createElement(z.a,{title:"It will allow to load the list your TODO"},b.createElement(N.a,{type:"info-circle",style:{color:"rgba(0,0,0,.45)"}}))})),b.createElement(P.a.Item,null,b.createElement(v.a,{type:"primary",htmlType:"submit"},"LogIn"))))}}]),e}(b.Component),o=Object(A.a)(a.prototype,"value",[S.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),r=a))||r)||r,F=Object(m.b)("authentication")(c=Object(m.c)(c=function(t){function e(){return Object(w.a)(this,e),Object(x.a)(this,Object(C.a)(e).apply(this,arguments))}return Object(I.a)(e,t),Object(T.a)(e,[{key:"render",value:function(){var t=this.props.authentication.isAuthenticated,e=(this.props.location.state||{from:{pathname:"/profile"}}).from;return t?b.createElement(O.a,{to:e}):b.createElement(J,null)}}]),e}(b.Component))||c)||c,L=Object(m.b)("todoModification")(i=Object(m.c)((u=function(t){function e(){var t,n;Object(w.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=Object(x.a)(this,(t=Object(C.a)(e)).call.apply(t,[this].concat(a))),Object(D.a)(n,"value",l,Object(_.a)(n)),n.onChange=function(t){n.value=t.currentTarget.value},n.onSubmit=function(t){t.preventDefault(),(0,n.props.todoModification.addTodo)(n.value),n.value=""},n}return Object(I.a)(e,t),Object(T.a)(e,[{key:"render",value:function(){return b.createElement(P.a,{layout:"inline",onSubmit:this.onSubmit},b.createElement(P.a.Item,null,b.createElement(M.a,{value:this.value,onChange:this.onChange,placeholder:"here is yours TODO",prefix:b.createElement(N.a,{type:"message",style:{color:"rgba(0,0,0,.25)"}})})),b.createElement(P.a.Item,null,b.createElement(v.a,{type:"primary",htmlType:"submit"},"Add TODO")))}}]),e}(b.Component),l=Object(A.a)(u.prototype,"value",[S.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),i=u))||i)||i,R=n(316),X=n(314),Y="view all todos",Q="completed",V="incomplete",W=[Y,Q,V],Z=Object(m.b)("todoModification")(s=Object(m.c)(s=function(t){function e(){var t,n;Object(w.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(x.a)(this,(t=Object(C.a)(e)).call.apply(t,[this].concat(a)))).handleClick=function(t){return function(){(0,n.props.todoModification.deliteTodo)(t._id)}},n.handleClickText=function(t){return function(){(0,n.props.todoModification.toggleTodo)(t._id,t.completed)}},n}return Object(I.a)(e,t),Object(T.a)(e,[{key:"componentDidMount",value:function(){(0,this.props.todoModification.getAllTodo)()}},{key:"render",value:function(){var t=this,e=R.a.Text,n=this.props.todoModification.filter,r=function(t,e){switch(e){case Q:return t.filter(function(t){return t.completed});case V:return t.filter(function(t){return!t.completed});case Y:default:return t}}(this.props.todoModification.todo,n);return b.createElement(X.a,{dataSource:r,renderItem:function(n){return b.createElement(X.a.Item,{actions:[b.createElement(v.a,{type:"primary",onClick:t.handleClickText(n)},"\u0421\u0434\u0435\u043b\u0430\u043d\u043e"),b.createElement(v.a,{type:"primary",onClick:t.handleClick(n)},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")]},b.createElement(X.a.Item.Meta,{title:b.createElement("span",{onClick:t.handleClickText(n)},n&&n.completed?b.createElement(e,{delete:!0}," ",n.data," "):b.createElement(e,null," ",n.data," "))}))}})}}]),e}(b.Component))||s)||s,q=Object(m.b)("todoModification")(p=Object(m.c)(p=function(t){function e(){var t,n;Object(w.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(x.a)(this,(t=Object(C.a)(e)).call.apply(t,[this].concat(a)))).onClick=function(t){var e=t.currentTarget.innerText;(0,n.props.todoModification.setFilter)(e)},n}return Object(I.a)(e,t),Object(T.a)(e,[{key:"render",value:function(){var t=this;return W.map(function(e,n){return b.createElement("div",{style:{marginLeft:"10px"},key:n},b.createElement(v.a,{type:"primary",onClick:t.onClick},e))})}}]),e}(b.Component))||p)||p,G=n(95),H=n.n(G),K=function(){return d.a.createElement("div",{className:H.a.image},d.a.createElement("div",{className:H.a.root},d.a.createElement(L,null),d.a.createElement(Z,null),d.a.createElement("div",{className:H.a.filters},d.a.createElement(q,null))))},$=n(96),tt=n.n($),et=Object(m.b)("authentication")(f=Object(m.c)(f=function(t){function e(){return Object(w.a)(this,e),Object(x.a)(this,Object(C.a)(e).apply(this,arguments))}return Object(I.a)(e,t),Object(T.a)(e,[{key:"render",value:function(){var t=R.a.Text,e=this.props.authentication,n=this.props.history;return e.isAuthenticated?b.createElement(t,{strong:!0,className:tt.a.root},b.createElement("span",{className:tt.a.margin},"Welcome!"),b.createElement(v.a,{type:"primary",onClick:function(){e.logOut(),n.push("/"),localStorage.clear()}},"LogOut")):b.createElement(t,{strong:!0,className:tt.a.root},"You aren't authorised!")}}]),e}(b.Component))||f)||f,nt=Object(O.e)(et),rt=Object(y.a)({basename:"/todoapp/"});n(311);var at,ot,ct,it,ut,lt,st,pt,ft=n(159),bt=n(14),dt=n.n(bt),ht=n(32),mt=new(function(){function t(e){Object(w.a)(this,t),this.baseUrl=void 0,this.baseUrl=e}return Object(T.a)(t,[{key:"post",value:function(){var t=Object(ht.a)(dt.a.mark(function t(e,n){var r;return dt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(this.baseUrl+e,{method:"post",headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({data:n,completed:!1,userName:localStorage.getItem("userData")})});case 2:return r=t.sent,t.abrupt("return",r.json());case 4:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"delite",value:function(){var t=Object(ht.a)(dt.a.mark(function t(e,n){return dt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(this.baseUrl+e+"".concat(n),{method:"DELETE",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({userName:localStorage.getItem("userData")})});case 2:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"get",value:function(){var t=Object(ht.a)(dt.a.mark(function t(e){var n;return dt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(this.baseUrl+e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),userData:"".concat(localStorage.getItem("userData"))}});case 2:return n=t.sent,t.abrupt("return",n.json());case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"put",value:function(){var t=Object(ht.a)(dt.a.mark(function t(e,n,r){return dt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(this.baseUrl+e,{method:"PUT",headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({id:n,completed:!r})});case 2:case"end":return t.stop()}},t,this)}));return function(e,n,r){return t.apply(this,arguments)}}()}]),t}())("http://37.228.116.182:3001/api/");function Ot(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function yt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ot(n,!0).forEach(function(e){Object(ft.a)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ot(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var jt,vt,gt,kt,Et=(at=S.d.bound,ot=S.d.bound,ct=S.d.bound,it=S.d.bound,ut=S.d.bound,lt=function(){function t(){Object(w.a)(this,t),Object(D.a)(this,"todo",st,this),Object(D.a)(this,"filter",pt,this)}return Object(T.a)(t,[{key:"setFilter",value:function(t){this.filter=t}},{key:"getAllTodo",value:function(){var t=Object(ht.a)(dt.a.mark(function t(){var e,n=this;return dt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,mt.get("users/");case 3:e=t.sent,Object(S.m)(function(){n.todo=e}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Object(S.m)(function(){n.todo=[]});case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}()},{key:"addTodo",value:function(){var t=Object(ht.a)(dt.a.mark(function t(e){var n;return dt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,mt.post("users/",e);case 3:n=t.sent,this.todo=this.todo.concat(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),this.todo=[];case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},{key:"deliteTodo",value:function(){var t=Object(ht.a)(dt.a.mark(function t(e){var n;return dt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:try{mt.delite("users/",e),n=this.todo.filter(function(t){return t._id!==e}),this.todo=n}catch(r){this.todo=[]}case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"toggleTodo",value:function(){var t=Object(ht.a)(dt.a.mark(function t(e,n){var r;return dt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:try{mt.put("users/",e,n),r=this.todo.map(function(t){return t._id===e?yt({},t,{completed:!n}):t}),this.todo=r}catch(a){this.todo=[]}case 1:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()}]),t}(),st=Object(A.a)(lt.prototype,"todo",[S.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pt=Object(A.a)(lt.prototype,"filter",[S.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y}}),Object(A.a)(lt.prototype,"setFilter",[at],Object.getOwnPropertyDescriptor(lt.prototype,"setFilter"),lt.prototype),Object(A.a)(lt.prototype,"getAllTodo",[ot],Object.getOwnPropertyDescriptor(lt.prototype,"getAllTodo"),lt.prototype),Object(A.a)(lt.prototype,"addTodo",[ct],Object.getOwnPropertyDescriptor(lt.prototype,"addTodo"),lt.prototype),Object(A.a)(lt.prototype,"deliteTodo",[it],Object.getOwnPropertyDescriptor(lt.prototype,"deliteTodo"),lt.prototype),Object(A.a)(lt.prototype,"toggleTodo",[ut],Object.getOwnPropertyDescriptor(lt.prototype,"toggleTodo"),lt.prototype),lt),wt=!1,Tt=localStorage.getItem("token");wt=!!Tt;var xt=(jt=S.d.bound,vt=S.d.bound,gt=function(){function t(){Object(w.a)(this,t),Object(D.a)(this,"isAuthenticated",kt,this)}return Object(T.a)(t,[{key:"logIn",value:function(){var t=Object(ht.a)(dt.a.mark(function t(e){var n,r,a=this;return dt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,mt.post("token",e);case 3:n=t.sent,r=n.access_token,localStorage.setItem("token",r),localStorage.setItem("userData",e),Object(S.m)(function(){a.isAuthenticated=!0}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),Object(S.m)(function(){a.isAuthenticated=!1});case 13:case"end":return t.stop()}},t,null,[[0,10]])}));return function(e){return t.apply(this,arguments)}}()},{key:"logOut",value:function(){this.isAuthenticated=!1}}]),t}(),kt=Object(A.a)(gt.prototype,"isAuthenticated",[S.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wt}}),Object(A.a)(gt.prototype,"logIn",[jt],Object.getOwnPropertyDescriptor(gt.prototype,"logIn"),gt.prototype),Object(A.a)(gt.prototype,"logOut",[vt],Object.getOwnPropertyDescriptor(gt.prototype,"logOut"),gt.prototype),gt),Ct={todoModification:new Et,authentication:new xt};Object(h.render)(d.a.createElement(m.a,Ct,d.a.createElement(function(){return d.a.createElement(O.c,{history:rt},d.a.createElement("div",null,d.a.createElement(nt,null),d.a.createElement(O.d,null,d.a.createElement(O.b,{exact:!0,path:"/",component:F}),d.a.createElement(E,{path:"/profile",component:K}),d.a.createElement(O.b,{component:g}))))},null)),document.getElementById("root"))},95:function(t,e,n){t.exports={root:"TodoPage_root__1ZOlY",image:"TodoPage_image__1_wXX",filters:"TodoPage_filters__2ksvV"}},96:function(t,e,n){t.exports={root:"AuthButton_root__16hhh",margin:"AuthButton_margin__2gQrR"}}},[[163,1,2]]]);
//# sourceMappingURL=main.48267d97.chunk.js.map